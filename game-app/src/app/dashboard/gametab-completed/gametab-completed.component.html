<div *ngIf="authService.isUserEmailLoggedIn && authService.isUserEmailVerified">
	<div *ngIf="games$ | async; let games">
		<ul>
			<div *ngFor="let game of games">
			<a [routerLink]="['/games', game.payload.doc.id]">
				{{ util.capitalize(game.payload.doc.data().title) }}
			</a>
			<button (click)="gamelistService.RemoveGame(userlists[0].code, game.payload.doc.id)">Remove Game</button>
			<button *ngIf="!updateForm" id="UpdateForm" (click)="UpdateForm(game.payload.doc.id)">Update Game</button>
			<button *ngIf="updateForm" id="UpdateForm" (click)="UpdateForm(game.payload.doc.id)">Close</button>
				<div *ngIf="updateForm===true">
					<div *ngIf="selectedList===userlists[0].code">
						<h4>Inserisci il tempo di completamento (in ore)</h4>
						
						<input type="number" placeholder="ore" required [(ngModel)]="time"><br>

						<h4>Inserisci la piattaforma</h4><br>

						<select *ngIf="cgame$ | async; let gi" [(ngModel)]="selectedPlatform">
							<option *ngFor="let plat of gi.platform">
								{{plat}}
							</option>
						</select><br>

						<h4>Inserisci un voto</h4>
						<select [(ngModel)]="vote">
							<option></option>
							<option type="number" *ngFor="let number of [1,2,3,4,5,6,7,8,9,10]">
								{{number}}
							</option>
						</select> <br>

						
						</div>
						

						<textarea rows="4" cols="180" placeholder="Inserisci Note Aggiuntive" [(ngModel)]="note"></textarea><br>
						<select [(ngModel)]="selectedList">
							<option *ngFor="let o of userlists" value="{{o.code}}">
								{{o.name}}
							</option>
						</select><br>
						<button (click)="gamelistService.UpdateGame(selectedList,userlists[0].code,game.payload.doc.id, note, time, vote, selectedPlatform, gametitle)">Update</button>
				</div>
			</div>		
		</ul>
		<div *ngIf="games.length === 0">Nessun gioco trovato</div>
	</div>	
</div>
